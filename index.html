<!-- ================================================================ -->
<!-- financeiro.html -->
<!-- ================================================================ -->

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle Financeiro</title>
    
    <!-- CSS EXTERNOS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS DO SISTEMA -->
    <link rel="stylesheet" href="css/new.css">
    
    <link rel="stylesheet" href="css/revista.css">


    
    <!-- JAVASCRIPT EXTERNOS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    
<!-- ================================================================ -->
<!-- ESTRUTURA PRINCIPAL DA APLICA√á√ÉO -->
<!-- ================================================================ -->
<div class="app-container">
    
    <!-- ============================================================ -->
    <!-- SIDEBAR DE NAVEGA√á√ÉO PRINCIPAL -->
    <!-- ============================================================ -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Sistema Financeiro</h3>
        </div>
        <ul class="sidebar-nav">
            <li class="nav-item">
                <a href="#" class="nav-link active" data-section="dashboard">
                    <span class="nav-icon"><i class="fas fa-chart-line"></i></span>
                    <span class="nav-text">An√°lise</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-section="meses">
                    <span class="nav-icon"><i class="fas fa-calendar-alt"></i></span>
                    <span class="nav-text">Meses</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-section="relatorios" id="nav-relatorios">
                    <span class="nav-icon"><i class="fas fa-chart-bar"></i></span>
                    <span class="nav-text">Relat√≥rios</span>
                </a>
            </li>
              <li class="nav-item">
                <a href="#" class="nav-link" data-section="fin-sights">
                    <span class="nav-icon"><i class="fas fa-book-open"></i></span>
                    <span class="nav-text">CanalEconomia</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-section="config">
                    <span class="nav-icon"><i class="fas fa-cog"></i></span>
                    <span class="nav-text">Configura√ß√µes</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- ============================================================ -->
    <!-- √ÅREA PRINCIPAL DE CONTE√öDO -->
    <!-- ============================================================ -->
    <main class="main-content">
        
        <!-- ======================================================== -->
        <!-- CABE√áALHO SUPERIOR COM CONTROLES -->
        <!-- ======================================================== -->
        <header class="main-header">
            <div class="header-left">
                <div class="user-welcome hidden" id="nome-usuario"></div>
            </div>
            
            <div class="header-actions">
                <div class="periodo-selector">
                    <button id="btn-ano-anterior"><i class="fas fa-chevron-left"></i></button>
                    <span id="ano-atual">2025</span>
                    <button id="btn-proximo-ano"><i class="fas fa-chevron-right"></i></button>
                </div>
                
                <!-- No seu cabe√ßalho, deve estar assim: -->
                <div class="notification-icon-container">
                    <button class="notification-icon" id="notification-bell" type="button" aria-label="Notifica√ß√µes">
                        <i class="fas fa-bell"></i>
                    </button>
                    <!-- ESTE SPAN √â O BADGE QUE MOSTRA O N√öMERO -->
                    <span class="notification-badge hidden" id="notification-count">0</span>
                </div>

                <div class="header-actions">
                    <a href="#" class="btn btn-outline-danger" id="logout-btn">
                        <i class="fas fa-sign-out-alt action-icon logout-icon" title="Sair"></i>
                    </a>
                </div>
            </div>
        </header>

        <!-- ======================================================== -->
        <!-- BARRA DE A√á√ïES R√ÅPIDAS -->
        <!-- ======================================================== -->
        <div class="secondary-action-bar">
            <div class="action-group">
                <button id="btn-adicionar-receita-rapida" class="btn btn-success">
                    <i class="fas fa-plus"></i> Receita
                </button>
                <button id="btn-adicionar-despesa-rapida" class="btn btn-danger">
                    <i class="fas fa-plus"></i> Despesa
                </button>
            </div>
            <div class="action-group">
                <button id="btn-novo-ano" class="btn btn-primary" title="Adicionar Novo Ano">
                    <i class="fas fa-calendar-plus"></i> Novo Ano
                </button>
                <button id="btn-excluir-ano-atual" class="btn btn-danger" title="Excluir Ano Atual">
                    <i class="fas fa-calendar-times"></i> Excluir Ano
                </button>
            </div>
            <div class="action-group action-group-right">
                <button id="btn-refresh" class="btn btn-secondary" title="Atualizar Dados">
                    <i class="fas fa-sync-alt"></i>
                </button>
                <button id="btn-lock-system" class="btn btn-secondary" title="Bloquear Sistema">
                    <i class="fas fa-lock"></i>
                </button>
            </div>
        </div>

        <!-- ======================================================== -->
        <!-- CONTAINER DE TODAS AS SE√á√ïES -->
        <!-- ======================================================== -->
        <div class="content-area">
            
            <!-- ================================================== -->
            <!-- SE√á√ÉO 1: DASHBOARD/AN√ÅLISE FINANCEIRA -->
            <!-- Gr√°ficos, resumos e an√°lises dos dados financeiros -->
            <!-- ================================================== -->
            <section class="dashboard-section active" id="dashboard-section">
                <div class="dashboard-resumo">
                    <div class="resumo-card receitas">
                        <h3><i class="fas fa-arrow-up"></i> RECEITAS TOTAIS</h3>
                        <p id="dashboard-total-receitas">R$ 0,00</p>
                        <small>Todas as receitas do ano</small>
                    </div>
                    <div class="resumo-card despesas">
                        <h3><i class="fas fa-arrow-down"></i> DESPESAS TOTAIS</h3>
                        <p id="dashboard-total-despesas">R$ 0,00</p>
                        <small>Todas as despesas do ano</small>
                    </div>
                    <div class="resumo-card saldo">
                        <h3><i class="fas fa-wallet"></i> SALDO ANUAL</h3>
                        <p id="dashboard-saldo-anual">R$ 0,00</p>
                        <small>Balan√ßo receitas - despesas</small>
                    </div>
                    <div class="resumo-card juros">
                        <h3><i class="fas fa-percentage"></i> JUROS PAGOS</h3>
                        <p id="dashboard-total-juros">R$ 0,00</p>
                        <small>Total de juros pagos no ano</small>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>TEND√äNCIA ANUAL</h3>
                        <div class="chart-container">
                            <canvas id="tendencia-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>ENTRADAS E SA√çDAS</h3>
                        <div class="chart-container">
                            <canvas id="receitas-despesas-chart"></canvas>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>
                            <span>CATEGORIZADAS ANUAL</span>
                            <div class="filtros-header">
                                <span class="filter-label">Filtro:</span>
                                <div class="filter-checkbox-group">
                                    <div class="filter-checkbox">
                                        <input type="checkbox" id="cat-anual-todas" checked onchange="filtrarCategoriaAnual()">
                                        <label for="cat-anual-todas">Todas</label>
                                    </div>
                                    <div class="filter-checkbox pix">
                                        <input type="checkbox" id="cat-anual-pix" onchange="filtrarCategoriaAnual()">
                                        <label for="cat-anual-pix">PIX</label>
                                    </div>
                                    <div class="filter-checkbox debito">
                                        <input type="checkbox" id="cat-anual-debito" onchange="filtrarCategoriaAnual()">
                                        <label for="cat-anual-debito">D√©bito</label>
                                    </div>
                                    <div class="filter-checkbox credito">
                                        <input type="checkbox" id="cat-anual-credito" onchange="filtrarCategoriaAnual()">
                                        <label for="cat-anual-credito">Cr√©dito</label>
                                    </div>
                                </div>
                            </div>
                        </h3>
                        <div class="chart-container categorias-barras-container">
                            <canvas id="categorias-barras-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>
                            <span>FORMAS DE PAGAMENTO</span>
                            <div class="filtros-header">
                                <span class="filter-label">Categoria:</span>
                                <select class="filter-select" id="forma-pagamento-categoria" onchange="filtrarFormaPagamento()">
                                    <option value="">Todas as categorias</option>
                                </select>
                            </div>
                        </h3>
                        <div class="chart-container">
                            <canvas id="forma-pagamento-mensal-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>
                            <span>CATEGORIZADAS MENSAL</span>
                            <div class="filtros-header">
                                <span class="filter-label">Filtro:</span>
                                <div class="filter-checkbox-group">
                                    <div class="filter-checkbox">
                                        <input type="checkbox" id="cat-mensal-todas" checked onchange="filtrarCategoriaMensal()">
                                        <label for="cat-mensal-todas">Todas</label>
                                    </div>
                                    <div class="filter-checkbox pix">
                                        <input type="checkbox" id="cat-mensal-pix" onchange="filtrarCategoriaMensal()">
                                        <label for="cat-mensal-pix">PIX</label>
                                    </div>
                                    <div class="filter-checkbox debito">
                                        <input type="checkbox" id="cat-mensal-debito" onchange="filtrarCategoriaMensal()">
                                        <label for="cat-mensal-debito">D√©bito</label>
                                    </div>
                                    <div class="filter-checkbox credito">
                                        <input type="checkbox" id="cat-mensal-credito" onchange="filtrarCategoriaMensal()">
                                        <label for="cat-mensal-credito">Cr√©dito</label>
                                    </div>
                                </div>
                            </div>
                        </h3>
                        <div class="chart-container">
                            <canvas id="top-categorias-chart"></canvas>
                        </div>
                    </div>
                  
                    <div class="dashboard-card">
                        <h3>
                            <span>PARCELAMENTOS E JUROS</span>
                            <div class="filtros-header">
                                <span class="filter-label">Categoria:</span>
                                <select class="filter-select" id="parcelamentos-categoria" onchange="filtrarParcelamentosJuros()">
                                    <option value="">Todas as categorias</option>
                                </select>
                            </div>
                        </h3>
                        <div class="chart-container">
                            <canvas id="parcelamentos-juros-chart"></canvas>
                        </div>
                    </div>          
                </div>

                <div class="dashboard-card">
                    <h3>
                        <span>CRESCIMENTO POR CATEGORIA</span>
                        <div class="filtros-header">
                            <span class="filter-label">Exibir:</span>
                            <div class="filter-checkbox-group">
                                <div class="filter-checkbox">
                                    <input type="checkbox" id="crescimento-todas" checked onchange="filtrarCrescimentoCategoria()">
                                    <label for="crescimento-todas">Todas</label>
                                </div>
                                <div class="filter-checkbox">
                                    <input type="checkbox" id="crescimento-top5" onchange="filtrarCrescimentoCategoria()">
                                    <label for="crescimento-top5">Top 5</label>
                                </div>
                                <div class="filter-checkbox">
                                    <input type="checkbox" id="crescimento-positivo" onchange="filtrarCrescimentoCategoria()">
                                    <label for="crescimento-positivo">S√≥ Crescimento</label>
                                </div>
                            </div>
                            <select class="filter-select" id="crescimento-categoria-especifica" onchange="filtrarCrescimentoCategoria()">
                                <option value="">Categoria espec√≠fica</option>
                            </select>
                        </div>
                    </h3>
                    <div class="chart-container">
                        <canvas id="crescimento-categoria-chart"></canvas>
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <h3>EVOLU√á√ÉO DO SALDO</h3>
                    <div class="chart-container">
                        <canvas id="saldo-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- ================================================== -->
            <!-- SE√á√ÉO 2: VISUALIZA√á√ÉO MENSAL -->
            <!-- Grid de meses do ano para navega√ß√£o e resumos -->
            <!-- ================================================== -->
            <section class="meses-section" id="meses-section">
                <div class="meses-container">
                </div>
            </section>

            <!-- ================================================== -->
            <!-- SE√á√ÉO 3: SISTEMA DE RELAT√ìRIOS -->
            <!-- Filtros avan√ßados e gera√ß√£o de relat√≥rios personalizados -->
            <!-- ================================================== -->

            <section class="relatorios-section" id="relatorios-section">
                <div class="relatorios-filtros-container">
                    <div class="filtros-card">
                        <h3><i class="fas fa-filter"></i> Filtros de Relat√≥rio</h3>
                        
                        <div class="filtros-grid">
                            <div class="filtro-grupo">
                                <label for="filtro-periodo">Per√≠odo:</label>
                                <select id="filtro-periodo" class="form-select">
                                    <option value="mes-atual">M√™s Atual</option>
                                    <option value="mes-anterior">M√™s Anterior</option>
                                    <option value="ultimos-3-meses">√öltimos 3 Meses</option>
                                    <option value="ultimos-6-meses">√öltimos 6 Meses</option>
                                    <option value="ano-atual">Ano Atual</option>
                                    <option value="ano-anterior">Ano Anterior</option>
                                    <option value="personalizado">Per√≠odo Personalizado</option>
                                </select>
                            </div>
                            
                            <div id="periodo-personalizado-container" class="filtro-grupo hidden">
                                <label>De:</label>
                                <input type="date" id="data-inicio-relatorio" class="form-input">
                                <label>At√©:</label>
                                <input type="date" id="data-fim-relatorio" class="form-input">
                            </div>

                            <div class="filtro-grupo">
                                <label for="filtro-tipo-relatorio">Tipo de Relat√≥rio:</label>
                                <select id="filtro-tipo-relatorio" class="form-select">
                                    <option value="completo">Relat√≥rio Completo</option>
                                    <option value="apenas-receitas">Apenas Receitas</option>
                                    <option value="apenas-despesas">Apenas Despesas</option>
                                    <option value="por-categoria">Por Categoria</option>
                                    <option value="por-forma-pagamento">Por Forma de Pagamento</option>
                                    <option value="parcelamentos">Parcelamentos</option>
                                </select>
                            </div>

                            <div class="filtro-grupo">
                                <label for="filtro-categoria-relatorio">Categoria (Opcional):</label>
                                <select id="filtro-categoria-relatorio" class="form-select">
                                    <option value="todas">Todas as Categorias</option>
                                </select>
                            </div>

                            <div class="filtro-grupo">
                                <label for="filtro-forma-pagamento-relatorio">Forma de Pagamento:</label>
                                <select id="filtro-forma-pagamento-relatorio" class="form-select">
                                    <option value="todas">Todas</option>
                                    <option value="pix">PIX</option>
                                    <option value="debito">D√©bito</option>
                                    <option value="credito">Cr√©dito</option>
                                </select>
                            </div>

                            <div class="filtro-grupo">
                                <label for="filtro-status-relatorio">Status:</label>
                                <select id="filtro-status-relatorio" class="form-select">
                                    <option value="todos">Todos</option>
                                    <option value="quitadas">Pagas</option>
                                    <option value="pendentes">Pendentes</option>
                                    <option value="atrasadas">Atrasadas</option>
                                </select>
                            </div>

                            <div class="filtro-grupo">
                                <label for="filtro-ordenacao">Ordenar por:</label>
                                <select id="filtro-ordenacao" class="form-select">
                                    <option value="data">Data</option>
                                    <option value="valor-desc">Maior Valor</option>
                                    <option value="valor-asc">Menor Valor</option>
                                    <option value="categoria">Categoria</option>
                                    <option value="descricao">Descri√ß√£o</option>
                                </select>
                            </div>
                        </div>

                        <div class="filtros-acoes">
                            <button id="btn-gerar-relatorio" class="btn btn-primary">
                                <i class="fas fa-search"></i>
                                Gerar Relat√≥rio
                            </button>
                            <button id="btn-limpar-filtros-relatorio" class="btn btn-secondary">
                                <i class="fas fa-times"></i>
                                Limpar Filtros
                            </button>
                            <button id="btn-exportar-pdf-relatorio" class="btn btn-success" disabled>
                                <i class="fas fa-file-pdf"></i>
                                Exportar PDF
                            </button>
                        </div>
                    </div>
                </div>

                <div class="relatorios-resultados">
                    <div id="resumo-executivo" class="resultado-secao hidden">
                        <div class="secao-header">
                            <h3><i class="fas fa-chart-line"></i> Resumo Executivo</h3>
                        </div>
                        <div class="resumo-cards">
                            <div class="resumo-card receitas">
                                <div class="card-header">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>Total de Receitas</span>
                                </div>
                                <div class="card-valor" id="resumo-total-receitas">R$ 0,00</div>
                                <div class="card-info" id="resumo-count-receitas">0 transa√ß√µes</div>
                            </div>
                            
                            <div class="resumo-card despesas">
                                <div class="card-header">
                                    <i class="fas fa-arrow-down"></i>
                                    <span>Total de Despesas</span>
                                </div>
                                <div class="card-valor" id="resumo-total-despesas">R$ 0,00</div>
                                <div class="card-info" id="resumo-count-despesas">0 transa√ß√µes</div>
                            </div>
                            
                            <div class="resumo-card saldo">
                                <div class="card-header">
                                    <i class="fas fa-balance-scale"></i>
                                    <span>Saldo L√≠quido</span>
                                </div>
                                <div class="card-valor" id="resumo-saldo-liquido">R$ 0,00</div>
                                <div class="card-info" id="resumo-economia">0% de economia</div>
                            </div>
                            
                            <div class="resumo-card juros">
                                <div class="card-header">
                                    <i class="fas fa-percentage"></i>
                                    <span>Juros Pagos</span>
                                </div>
                                <div class="card-valor" id="resumo-total-juros">R$ 0,00</div>
                                <div class="card-info" id="resumo-percent-juros">0% do total</div>
                            </div>
                        </div>
                    </div>

                    <div id="detalhamento-categorias" class="resultado-secao hidden">
                        <div class="secao-header">
                            <h3><i class="fas fa-tags"></i> Detalhamento por Categoria</h3>
                        </div>
                        <div class="tabela-responsiva">
                            <table class="relatorio-tabela">
                                <thead>
                                    <tr>
                                        <th>Categoria</th>
                                        <th>Receitas</th>
                                        <th>Despesas</th>
                                        <th>Saldo</th>
                                        <th>% do Total</th>
                                        <th>Transa√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody id="tabela-categorias-body">
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div id="detalhamento-pagamento" class="resultado-secao hidden">
                        <div class="secao-header">
                            <h3><i class="fas fa-credit-card"></i> Detalhamento por Forma de Pagamento</h3>
                        </div>
                        <div class="pagamento-resumo">
                            <div class="pagamento-item pix">
                                <div class="pagamento-header">
                                    <i class="fas fa-mobile-alt"></i>
                                    <span>PIX</span>
                                </div>
                                <div class="pagamento-valor" id="pagamento-pix-valor">R$ 0,00</div>
                                <div class="pagamento-info">
                                    <span id="pagamento-pix-count">0 transa√ß√µes</span>
                                    <span id="pagamento-pix-percent">0%</span>
                                </div>
                            </div>
                            
                            <div class="pagamento-item debito">
                                <div class="pagamento-header">
                                    <i class="fas fa-credit-card"></i>
                                    <span>D√©bito</span>
                                </div>
                                <div class="pagamento-valor" id="pagamento-debito-valor">R$ 0,00</div>
                                <div class="pagamento-info">
                                    <span id="pagamento-debito-count">0 transa√ß√µes</span>
                                    <span id="pagamento-debito-percent">0%</span>
                                </div>
                            </div>
                            
                            <div class="pagamento-item credito">
                                <div class="pagamento-header">
                                    <i class="fas fa-credit-card"></i>
                                    <span>Cr√©dito</span>
                                </div>
                                <div class="pagamento-valor" id="pagamento-credito-valor">R$ 0,00</div>
                                <div class="pagamento-info">
                                    <span id="pagamento-credito-count">0 transa√ß√µes</span>
                                    <span id="pagamento-credito-percent">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="lista-transacoes" class="resultado-secao hidden">
                        <div class="secao-header">
                            <h3><i class="fas fa-list"></i> Lista de Transa√ß√µes</h3>
                            <div class="transacoes-info">
                                <p id="transacoes-count-info">Mostrando 0 transa√ß√µes</p>
                            </div>
                        </div>
                        <div class="tabela-responsiva">
                            <table class="relatorio-tabela">
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Tipo</th>
                                        <th>Descri√ß√£o</th>
                                        <th>Categoria</th>
                                        <th>Forma Pagamento</th>
                                        <th>Valor</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="tabela-transacoes-body">
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div id="detalhamento-parcelamentos" class="resultado-secao hidden">
                        <div class="secao-header">
                            <h3><i class="fas fa-credit-card"></i> Parcelamentos</h3>
                        </div>
                        <div class="tabela-responsiva">
                            <table class="relatorio-tabela">
                                <thead>
                                    <tr>
                                        <th>Descri√ß√£o</th>
                                        <th>Valor Total</th>
                                        <th>Parcelas</th>
                                        <th>Valor/Parcela</th>
                                        <th>Pagas</th>
                                        <th>Restantes</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="tabela-parcelamentos-body">
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div id="sem-dados-mensagem" class="sem-dados hidden">
                        <div class="sem-dados-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h4>Nenhum dado encontrado</h4>
                        <p>N√£o foram encontradas transa√ß√µes para os filtros selecionados. Tente ajustar os crit√©rios de busca.</p>
                    </div>
                </div>

               <div id="relatorios-loading" class="loading-overlay hidden">
                    <div class="loading-spinner">                                     
                </div>
             </div>
        </section>

            <!-- ================================================== -->
            <!-- SE√á√ÉO 4: CANAL ECONOMIA (REVISTA FINANCEIRA) -->
            <!-- Sistema de educa√ß√£o financeira com artigos, dicas e calculadoras -->
            <!-- ================================================== -->
<section class="fin-sights-section" id="fin-sights-section">
    <div class="revista-container">
        
        <div class="revista-header">
            <div class="revista-logo">
                <i class="fas fa-chart-line"></i>
                CanalEconomia
            </div>
            <div class="revista-subtitle">
                Sua revista de educa√ß√£o financeira pessoal
            </div>
        </div>

       
<div class="calculadoras-section">
                <h3><i class="fas fa-calculator"></i> Calculadoras Financeiras</h3>
                <div class="calculadoras-grid">
                    <div class="calculadora-card" data-calc="juros-compostos">
                        <div class="calc-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <h4>Juros Compostos</h4>
                        <p>Calcule o crescimento dos seus investimentos</p>
                    </div>
                    <div class="calculadora-card" data-calc="financiamento">
                        <div class="calc-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <h4>Financiamento</h4>
                        <p>Simule parcelas de financiamentos</p>
                    </div>
                    <div class="calculadora-card" data-calc="aposentadoria">
                        <div class="calc-icon">
                            <i class="fas fa-user-clock"></i>
                        </div>
                        <h4>Aposentadoria</h4>
                        <p>Planeje sua aposentadoria</p>
                    </div>
                </div>
            </div>
        <div class="revista-content">
            
            <div class="artigo-destaque" id="artigo-principal">
                <div class="artigo-badge">Artigo em Destaque</div>
                <div class="artigo-imagem">
                    <div class="artigo-placeholder-img">
                        <i class="fas fa-piggy-bank"></i>
                    </div>
                </div>

                
                <div class="artigo-conteudo">
                    <h2 class="artigo-titulo">Como Criar uma Reserva de Emerg√™ncia em 2025</h2>
                    <p class="artigo-resumo">
                        Descubra estrat√©gias pr√°ticas para construir sua reserva de emerg√™ncia, 
                        mesmo com or√ßamento apertado. Um guia completo com dicas exclusivas.
                    </p>
                    <div class="artigo-meta">
                        <span class="artigo-tempo"><i class="fas fa-clock"></i> 8 min de leitura</span>
                        <span class="artigo-categoria"><i class="fas fa-tag"></i> Planejamento</span>
                    </div>
                    <button class="btn-ler-artigo" data-artigo="reserva-emergencia">
                        Ler Artigo Completo
                    </button>
                </div>
            </div>

             <div class="revista-nav">
            <button class="nav-categoria active" data-categoria="destaque">
                <i class="fas fa-star"></i> Destaques
            </button>
            <button class="nav-categoria" data-categoria="basico">
                <i class="fas fa-graduation-cap"></i> B√°sico
            </button>
            <button class="nav-categoria" data-categoria="investimentos">
                <i class="fas fa-chart-bar"></i> Investimentos
            </button>
            <button class="nav-categoria" data-categoria="planejamento">
                <i class="fas fa-calculator"></i> Planejamento
            </button>
            <button class="nav-categoria" data-categoria="dicas">
                <i class="fas fa-lightbulb"></i> Dicas
            </button>
            <button class="nav-categoria" data-categoria="noticias">
                <i class="fas fa-newspaper"></i> Not√≠cias
            </button>
        </div>

            <div class="artigos-grid" id="artigos-grid">
            </div>

            <div class="dicas-rapidas">
                <h3><i class="fas fa-bolt"></i> Dicas R√°pidas do Dia</h3>
                <div class="dicas-container" id="dicas-container">
                </div>
            </div>

            

        </div>
    </div>


    

    <div id="modal-artigo" class="modal-artigo">
        <div class="modal-artigo-content">
            <div class="modal-artigo-header">
                <h2 id="modal-artigo-titulo">T√≠tulo do Artigo</h2>
                <span class="close-artigo">&times;</span>
            </div>
            <div class="modal-artigo-body">
                <div class="artigo-meta-completo">
                    <span id="modal-artigo-tempo"></span>
                    <span id="modal-artigo-categoria"></span>
                    <span id="modal-artigo-data"></span>
                </div>
                <div class="artigo-imagem-completa" id="modal-artigo-imagem">
                </div>
                <div class="artigo-conteudo-completo" id="modal-artigo-conteudo">
                </div>
                <div class="artigo-acoes">
                    <button class="btn-compartilhar"><i class="fas fa-share"></i> Compartilhar</button>
                    <button class="btn-favoritar"><i class="fas fa-heart"></i> Favoritar</button>
                    <button class="btn-imprimir"><i class="fas fa-print"></i> Imprimir</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-calculadora" class="modal-calculadora">
        <div class="modal-calc-content">
            <div class="modal-calc-header">
                <h2 id="modal-calc-titulo">Calculadora</h2>
                <span class="close-calc">&times;</span>
            </div>
            <div class="modal-calc-body" id="modal-calc-body">
            </div>
        </div>
    </div>

</section>



<!-- ================================================== -->
<!-- SE√á√ÉO 5: CONFIGURA√á√ïES DO SISTEMA -->
<!-- Gerenciamento de categorias, usu√°rios e configura√ß√µes gerais -->
<!-- ================================================== -->
<section class="config-section" id="config-section">
    <h2>Configura√ß√µes do Sistema</h2>
    
    <div class="config-tabs">
        <button class="config-tab-btn active" data-tab="categorias">
            <i class="fas fa-tags"></i> Gerenciar Categorias
        </button>
        <button class="config-tab-btn" data-tab="sistema">
            <i class="fas fa-cogs"></i> Sistema
        </button>
        <button class="config-tab-btn" data-tab="usuarios">
            <i class="fas fa-users"></i> Usu√°rios
        </button>
    </div>
    
    <div class="config-tab-content">


        <!-- ============================================== -->
        <!-- ABA: GERENCIAMENTO DE CATEGORIAS -->
        <!-- ============================================== -->
        <div id="categorias-tab" class="config-tab-pane active">
            <div class="config-card">
                <h3 class="categorias-section-title">
                    <i class="fas fa-tags"></i> Gerenciamento de Categorias
                </h3>
                   
                <div class="form-add-categoria">
                    <div class="input-group">
                        <input type="text" id="nova-categoria-nome" placeholder="Nome da categoria" maxlength="50">
                        <button id="btn-adicionar-categoria" class="btn-action">
                            <i class="fas fa-plus"></i> Adicionar
                        </button>
                    </div>
                </div>
                
                <div class="lista-categorias-container">
                    <table id="tabela-categorias" class="tabela-categorias">
                        <thead>
                            <tr>
                                <th>Nome da Categoria</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="lista-categorias">
                            <!-- Preenchido dinamicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="config-card info-card">
                <h3><i class="fas fa-info-circle"></i> Dicas</h3>
                <ul>
                    <li>Use categorias espec√≠ficas para melhor organizar suas finan√ßas</li>
                    <li>Agora voc√™ pode identificar a <strong>forma de pagamento</strong> (PIX, D√©bito, Cr√©dito) diretamente no formul√°rio de despesas</li>
                    <li>Todas as despesas da mesma categoria s√£o agrupadas nos gr√°ficos, independente da forma de pagamento</li>
                    <li>Categorias bem definidas melhoram a visualiza√ß√£o nos relat√≥rios</li>
                    <li>Voc√™ pode analisar seus gastos tanto por categoria quanto por forma de pagamento</li>
                </ul>
            </div>
        </div>
        
        <!-- ============================================== -->
        <!-- ABA: CONFIGURA√á√ïES DO SISTEMA -->
        <!-- ============================================== -->
        <div id="sistema-tab" class="config-tab-pane">
            <div class="config-card">
                <h3><i class="fas fa-cogs"></i> Configura√ß√µes do Sistema</h3>
                <p>Ajuste as configura√ß√µes gerais do sistema financeiro.</p>
                
                <div class="form-group">
                    <h4><i class="fas fa-download"></i> Backup e Restaura√ß√£o</h4>
                    <div class="btn-group">
                        <button id="btn-exportar-dados" class="btn-action">
                            <i class="fas fa-download"></i> Exportar Dados
                        </button>
                        <button id="btn-importar-dados" class="btn-action">
                            <i class="fas fa-upload"></i> Importar Dados
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <h4><i class="fas fa-trash-alt"></i> Limpeza de Dados</h4>
                    <button id="btn-limpar-dados" class="btn-danger">
                        <i class="fas fa-trash"></i> Limpar Todos os Dados
                    </button>
                    <p class="texto-alerta">‚ö†Ô∏è Aten√ß√£o: Esta a√ß√£o √© irrevers√≠vel!</p>
                </div>
            </div>
            
            <div class="config-card info-card">
                <h3><i class="fas fa-info-circle"></i> Informa√ß√µes do Sistema</h3>
                <div class="info-list">
                    <div class="info-item">
                        <span class="info-label">Vers√£o:</span>
                        <span class="info-value">2.0.0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">√öltima atualiza√ß√£o:</span>
                        <span class="info-value">20/12/2024</span>
                    </div>
                    
                </div>
                <button id="btn-verificar-atualizacoes" class="btn-outline">
                    <i class="fas fa-sync"></i> Verificar Atualiza√ß√µes
                </button>
            </div>
        </div>
        
        <!-- ============================================== -->
        <!-- ABA: GERENCIAMENTO DE USU√ÅRIOS -->
        <!-- ============================================== -->
        <div id="usuarios-tab" class="config-tab-pane">
            <div class="config-card">
                <h3><i class="fas fa-users"></i> Gerenciamento de Usu√°rios</h3>
                <p>Visualize e gerencie os usu√°rios cadastrados no sistema.</p>
                
                <button id="btn-gerenciar-usuarios" class="btn-action">
                    <i class="fas fa-users-cog"></i> Gerenciar Usu√°rios
                </button>
            </div>
            
            <div class="config-card info-card">
                <h3><i class="fas fa-shield-alt"></i> Seguran√ßa</h3>
                <p>O gerenciamento de usu√°rios permite controlar quem tem acesso ao sistema e quais a√ß√µes cada usu√°rio pode realizar.</p>
                <ul>
                    <li>Apenas usu√°rios Master podem adicionar novos usu√°rios</li>
                    <li>Usu√°rios Master t√™m acesso total √†s configura√ß√µes do sistema</li>
                    <li>Administradores s√≥ podem editar usu√°rios do tipo Padr√£o</li>
                    <li>A exclus√£o de usu√°rios tamb√©m remove todos os seus dados</li>
                    <li>Cada usu√°rio possui suas pr√≥prias categorias personalizadas</li>
                </ul>
            </div>
        </div>
    </div>
</section>
        </div>
        
    </main>
</div>

<!-- ================================================================ -->
<!-- SISTEMA DE MODAIS -->
<!-- Todas as janelas modais para intera√ß√£o com usu√°rio -->
<!-- ================================================================ -->

<!-- ======================================================== -->
<!-- MODAL 1: CRIA√á√ÉO DE NOVO ANO FINANCEIRO -->
<!-- ======================================================== -->
<div id="modal-novo-ano" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Criar Novo Ano Financeiro</h2>
            <span class="close" onclick="fecharModal('modal-novo-ano')">&times;</span>
        </div>
        <div class="modal-body">
            <form id="form-novo-ano" onsubmit="handleCriarNovoAno(event)">
                <div class="form-group">
                    <label for="ano">Ano:</label>
                    <input type="number" id="ano" min="2000" max="2100" required>
                </div>
                <div class="form-group">
                    <label for="receita-mensal">Receita Mensal Padr√£o:</label>
                    <input type="number" id="receita-mensal" min="0" step="0.01" placeholder="0.00">
                </div>
                <button type="submit" class="btn-submit">Criar</button>
            </form>
        </div>
    </div>
</div>



<!-- ======================================================== -->
<!-- MODAL 3: NOTIFICA√á√ÉO DE FECHAMENTO AUTOM√ÅTICO -->
<!-- Notifica quando um m√™s √© fechado automaticamente -->
<!-- ======================================================== -->
<div id="modal-notificacao-fechamento" class="notificacao-fechamento hidden">
    <div class="notificacao-content">
        <div class="notificacao-icon">üîí</div>
        <div class="notificacao-texto">
            <strong id="notificacao-titulo">M√™s fechado automaticamente</strong>
            <small id="notificacao-saldo">Saldo transferido: R$ 0,00</small>
        </div>
        <button class="notificacao-close">&times;</button>
    </div>
</div>


<!-- ======================================================== -->
<!-- MODAL 5: DETALHES MENSAIS - VERS√ÉO ATUALIZADA -->
<!-- Visualiza√ß√£o completa com abas: resumo, receitas e despesas -->
<!-- ======================================================== -->
<div id="modal-detalhes-mes" class="modal">
    <div class="modal-content modal-lg">
        <div class="modal-header">
            <h2 id="detalhes-mes-titulo">Detalhes do M√™s</h2>
            <span class="close" onclick="fecharModal('modal-detalhes-mes')">&times;</span>
        </div>
        <div class="modal-body">
            <div class="tabs">
                <button class="tab-btn active" data-tab="tab-resumo" onclick="ativarAba(this, 'tab-resumo')">Resumo</button>
                <button class="tab-btn" data-tab="tab-receitas" onclick="ativarAba(this, 'tab-receitas')">Receitas</button>
                <button class="tab-btn" data-tab="tab-despesas" onclick="ativarAba(this, 'tab-despesas')">Despesas</button>
            </div>

            <!-- ABA RESUMO -->
            <div id="tab-resumo" class="tab-content active">
                <div class="resumo-cards">
                    <div class="card">
                        <h3>Total Receitas</h3>
                        <p id="resumo-receitas">R$ 0,00</p>
                    </div>
                    <div class="card">
                        <h3>Total Despesas</h3>
                        <p id="resumo-despesas">R$ 0,00</p>
                    </div>
                    <div class="card">
                        <h3>Juros Pagos</h3>
                        <p id="resumo-juros">R$ 0,00</p>
                    </div>
                    <div class="card">
                        <h3>Saldo</h3>
                        <p id="resumo-saldo">R$ 0,00</p>
                    </div>
                </div>
                
                <!-- Container para saldo anterior (gerado dinamicamente) -->
                <div id="saldo-anterior-container" class="card hidden">
                    <h3><i class="fas fa-piggy-bank"></i> Saldo Anterior</h3>
                    <p id="saldo-anterior-valor">R$ 0,00</p>
                </div>

                <!-- Container para controles do m√™s (gerado dinamicamente) -->
                <div id="controle-mes-container" class="controle-mes-actions hidden">
                    <div class="status-info" id="status-mes-info"></div>
                    <div class="controle-botoes" id="controle-mes-botoes"></div>
                </div>
            </div>



<!-- ABA RECEITAS -->
<!-- ================================================================ -->
<!-- ESTRUTURA HTML CORRIGIDA PARA TABELA DE RECEITAS -->
<!-- Deve substituir a tabela atual no modal de detalhes -->
<!-- ================================================================ -->

<!-- ABA RECEITAS no modal-detalhes-mes -->
<div id="tab-receitas" class="tab-content">
    <div class="tab-actions">
        <button id="btn-nova-receita" class="btn-action" onclick="handleNovaReceita()">
            <i class="fas fa-plus-circle"></i> Nova Receita
        </button>
    </div>
    
    <div class="tabela-container">
        <table id="tabela-receitas" class="tabela-receitas">
            <thead class="receita-thead">
                <tr class="receita-header-row">
                    <th class="col-descricao">Descri√ß√£o</th>
                    <th class="col-valor">Valor</th>
                    <th class="col-data">Data</th>
                    <th class="col-parcela">Parcela</th>
                    <th class="col-acoes">A√ß√µes</th>
                </tr>
            </thead>
            <tbody id="lista-receitas" class="receita-tbody">
                <!-- Receitas ser√£o inseridas aqui pelo JavaScript -->
            </tbody>
        </table>
    </div>
</div>

<!-- ================================================================ -->
<!-- TEMPLATE PARA LINHA DE RECEITA (usado pelo JavaScript) -->
<!-- Deve substituir o template atual -->
<!-- ================================================================ -->

<template id="template-linha-receita">
    <tr class="receita-row" data-categoria="">
        <td class="col-descricao">
            <span class="receita-descricao"></span>
        </td>
        <td class="col-valor">
            <span class="receita-valor"></span>
        </td>
        <td class="col-data">
            <span class="receita-data"></span>
        </td>
        <td class="col-parcela">
            <span class="receita-parcela"></span>
        </td>
        <td class="col-acoes">
            <div class="receita-acoes">
                <button class="btn btn-editar" data-index="" title="Editar">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-excluir" data-index="" title="Excluir">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </td>
    </tr>
</template>

<!-- ================================================================ -->
<!-- TEMPLATE PARA LINHA DE SALDO ANTERIOR -->
<!-- Deve substituir o template atual -->
<!-- ================================================================ -->

<template id="template-linha-saldo-anterior">
    <tr class="saldo-anterior-row">
        <td class="col-descricao">
            <span class="saldo-anterior-desc"></span>
        </td>
        <td class="col-valor">
            <span class="saldo-anterior-valor"></span>
        </td>
        <td class="col-data">-</td>
        <td class="col-parcela">-</td>
        <td class="col-acoes">
            <span class="badge-saldo-anterior">AUTOM√ÅTICO</span>
        </td>
    </tr>
</template>

            <!-- ABA DESPESAS  -->
            <div id="tab-despesas" class="tab-content">
                <!-- A√á√ïES DA TABELA -->
                <div class="tab-actions">
                    <div class="left-side">
                        <button id="btn-nova-despesa" class="btn-action" onclick="abrirModalNovaDespesa()">
                            <i class="fas fa-plus-circle"></i> Nova Despesa
                        </button>
                        <button id="btn-pagar-em-lote" class="btn-action" disabled onclick="pagarDespesasEmLote()">
                            <i class="fas fa-check-circle"></i> Pagar em Lote
                        </button>
                    </div>
                    
                    <div class="right-side">
                        <div class="filtros-despesas">
                            <select id="filtro-categoria" class="form-control">
                                <option value="todas">Categorias</option>
                            </select>
                            
                            <select id="filtro-forma-pagamento-tabela" class="form-control">
                                <option value="todas">Forma Pagamento</option>
                                <option value="pix">PIX</option>
                                <option value="debito">D√©bito</option>
                                <option value="credito">Cr√©dito</option>
                            </select>
                            
                            <select id="filtro-status" class="form-control">
                                <option value="todas">Status</option>
                                <option value="em_dia">Em Dia</option>
                                <option value="atrasada">Atrasadas</option>
                                <option value="quitada">Pagas</option>
                                <option value="pendentes">Pendentes</option>
                            </select>
                            
                            <button id="btn-limpar-filtros" class="btn btn-secondary" onclick="limparFiltros()">
                                </i> Limpar
                            </button>
                            
                            <span id="contador-filtro" class="filtro-contador"></span>
                        </div>
                    </div>
                </div>
                
                <!-- TABELA DE DESPESAS COM ESTRUTURA COMPAT√çVEL COM DESPESAS.JS -->
                <div class="tabela-container">
                    <table id="tabela-despesas" class="tabela-despesas">
                        <thead class="despesa-thead">
                            <tr class="despesa-header-row">
                                <th class="col-checkbox">
                                    <input type="checkbox" id="pagar-despesas-em-lote" class="despesa-checkbox-all" onchange="toggleTodasDespesas(this)">
                                </th>
                                <th class="col-descricao">Descri√ß√£o</th>
                                <th class="col-categoria">Categoria</th>
                                <th class="col-forma-pagamento">Pagamento</th>
                                <th class="col-valor">Valor</th>
                                <th class="col-parcela">Parcela</th>
                                <th class="col-valor-pago">Valor Pago</th>
                                <th class="col-status">Status</th>
                                <th class="col-compra">Compra</th>
                                <th class="col-vencimento">Vencimento</th>
                                <th class="col-acoes">A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="lista-despesas" class="despesa-tbody">
                            <!-- Despesas ser√£o inseridas aqui dinamicamente via despesas.js -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ======================================================== -->
<!-- TEMPLATES PADRONIZADOS PARA COMPATIBILIDADE -->
<!-- ======================================================== -->

<!-- Template para linha de receita -->
<template id="template-linha-receita">
    <tr class="receita-row" data-categoria="">
        <td class="col-descricao">
            <span class="receita-descricao"></span>
        </td>
        <td class="col-valor">
            <span class="receita-valor"></span>
        </td>
        <td class="col-data">
            <span class="receita-data"></span>
        </td>
        <td class="col-parcela">
            <span class="receita-parcela"></span>
        </td>
        <td class="col-acoes">
            <div class="receita-acoes">
                <button class="btn btn-editar" data-index="" title="Editar">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-excluir" data-index="" title="Excluir">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </td>
    </tr>
</template>

<!-- Template para linha de saldo anterior -->
<template id="template-linha-saldo-anterior">
    <tr class="saldo-anterior-row">
        <td class="col-descricao">
            <span class="saldo-anterior-desc"></span>
        </td>
        <td class="col-valor">
            <span class="saldo-anterior-valor"></span>
        </td>
        <td class="col-data">-</td>
        <td class="col-parcela">-</td>
        <td class="col-acoes">
            <span class="badge-saldo-anterior">AUTOM√ÅTICO</span>
        </td>
    </tr>
</template>



<!-- Template padronizado para linha de despesa - COMPAT√çVEL COM DESPESAS.JS -->
<template id="template-linha-despesa">
    <tr class="despesa-row" data-status="" data-categoria="" data-forma-pagamento="">
        <!-- Checkbox para sele√ß√£o m√∫ltipla -->
        <td class="col-checkbox">
            <input type="checkbox" class="despesa-checkbox" data-index="">
        </td>
        
        <!-- Descri√ß√£o da despesa -->
        <td class="col-descricao">
            <span class="despesa-descricao"></span>
        </td>
        
        <!-- Categoria -->
        <td class="col-categoria">
            <span class="despesa-categoria"></span>
        </td>
        
        <!-- Forma de pagamento com badge -->
        <td class="col-forma-pagamento">
            <span class="despesa-forma-pagamento"></span>
        </td>
        
        <!-- Valor -->
        <td class="col-valor">
            <span class="despesa-valor"></span>
        </td>
        
        <!-- Parcela -->
        <td class="col-parcela">
            <span class="despesa-parcela"></span>
        </td>
        
        <!-- Valor pago -->
        <td class="col-valor-pago">
            <span class="despesa-valor-pago"></span>
        </td>
        
        <!-- Status com badge -->
        <td class="col-status">
            <span class="badge-status"></span>
        </td>
        
        <!-- Data de compra -->
        <td class="col-compra">
            <span class="despesa-data-compra"></span>
        </td>
        
        <!-- Data de vencimento -->
        <td class="col-vencimento">
            <span class="despesa-data-vencimento"></span>
        </td>
        
        <!-- A√ß√µes -->
        <td class="col-acoes">
            <div class="despesa-acoes">
                <button class="btn btn-editar" data-index="" title="Editar">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-excluir" data-index="" title="Excluir">
                    <i class="fas fa-trash"></i>
                </button>
                <button class="btn btn-pagar" data-index="" title="Pagar">
                    <i class="fas fa-check"></i>
                </button>
                <button class="btn btn-mover" data-index="" title="Mover para pr√≥ximo m√™s">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </td>
    </tr>
</template>





<!-- ======================================================== -->
<!-- MODAL 4: CADASTRO DE NOVAS RECEITAS -->
<!-- Formul√°rio completo para adicionar receitas com parcelamento -->
<!-- ======================================================== -->
<div id="modal-nova-receita" class="modal modal-nova-receita">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Nova Receita</h2>
            <span class="close" onclick="fecharModal('modal-nova-receita')">&times;</span>
        </div>
        <div class="modal-body">
            <form id="form-nova-receita">
                <input type="hidden" id="receita-id">
                <input type="hidden" id="receita-mes">
                <input type="hidden" id="receita-ano">
                
                <div class="form-group form-group-full">
                    <label for="receita-descricao">Descri√ß√£o:</label>
                    <input type="text" id="receita-descricao" placeholder="Descri√ß√£o" required>
                </div>
                
                <div class="form-row-grid">
                    <div class="form-group campo-valor">
                        <label for="receita-valor">Valor:</label>
                        <input type="number" id="receita-valor" min="0.01" step="0.01" placeholder="0,00" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="receita-data">Data:</label>
                        <input type="date" id="receita-data" required>
                    </div>
                </div>
                
              
                
                <div id="opcoes-parcelamento-receita" class="hidden">
                    <div class="form-group">
                        <label for="receita-parcelas">N√∫mero de Parcelas:</label>
                        <input type="number" id="receita-parcelas" min="2" max="36" value="2" placeholder="N√∫mero de Parcelas">
                    </div>
                </div>
                
                <div class="checkbox-container">
                    <div class="checkbox-row">
                        <input type="checkbox" id="receita-replicar" onchange="toggleReplicacaoReceita(this)">
                        <label for="receita-replicar">Replicar para meses futuros</label>
                    </div>
                </div>
                
                <div id="opcoes-replicacao-detalhes" class="hidden">
                    <div class="opcoes-replicacao-grupo">
                        <div class="opcao-replicacao">
                            <input type="radio" name="tipo-replicacao" id="replicar-todos" value="todos" checked onchange="toggleSeletorAte()" />
                            <label for="replicar-todos">Replicar para todos os meses futuros</label>
                        </div>
                        
                        <div class="opcao-replicacao">
                            <input type="radio" name="tipo-replicacao" id="replicar-ate" value="ate" onchange="toggleSeletorAte()" />
                            <label for="replicar-ate">Replicar at√©</label>
                            
                            <div id="selector-ate-container" class="hidden">
                                <div class="select-grupo">
                                    <select id="replicar-ate-mes">
                                        <option value="0">Janeiro</option>
                                        <option value="1">Fevereiro</option>
                                        <option value="2">Mar√ßo</option>
                                        <option value="3">Abril</option>
                                        <option value="4">Maio</option>
                                        <option value="5">Junho</option>
                                        <option value="6">Julho</option>
                                        <option value="7">Agosto</option>
                                        <option value="8">Setembro</option>
                                        <option value="9">Outubro</option>
                                        <option value="10">Novembro</option>
                                        <option value="11">Dezembro</option>
                                    </select>
                                    <select id="replicar-ate-ano"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-salvar-transacao">Salvar</button>
            </form>
        </div>
    </div>
</div>


<!-- ======================================================== -->
<!-- MODAL 2: EXCLUS√ÉO DE RECEITAS -->
<!-- Op√ß√µes para excluir receita individual ou em lote -->
<!-- ======================================================== -->
<div id="modal-exclusao-receita" class="modal">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h3>Excluir receita</h3>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <p>Como deseja excluir esta receita?</p>
            <div class="opcoes-exclusao">
                <button id="btn-excluir-atual" class="btn btn-block">Excluir apenas esta receita</button>
                <button id="btn-excluir-todas" class="btn btn-block">Excluir todas com esta descri√ß√£o neste ano</button>
            </div>
        </div>
    </div>
</div>


<!-- ======================================================== -->
<!-- MODAL 6: CADASTRO DE DESPESAS -->
<!-- ======================================================== -->

<div id="modal-nova-despesa" class="modal modal-nova-despesa">
   <div class="modal-content">
       <div class="modal-header">
           <h2><i class="fas fa-plus-circle"></i> Nova Despesa</h2>
           <span class="close" onclick="fecharModal('modal-nova-despesa')">&times;</span>
       </div>
       <div class="modal-body">
           <form id="form-nova-despesa" onsubmit="handleSalvarDespesa(event)">
               <input type="hidden" id="despesa-id">
               <input type="hidden" id="despesa-mes">
               <input type="hidden" id="despesa-ano">
               
               <!-- Descri√ß√£o -->
               <div class="form-group form-group-full">
                   <input type="text" id="despesa-descricao" placeholder="Descri√ß√£o da despesa" required>
               </div>
               
               <!-- Categoria e Forma de Pagamento -->
               <div class="form-row-grid">
                   <div class="form-group">
                       <label for="despesa-categoria">Categoria <span class="campo-obrigatorio">*</span></label>
                       <select id="despesa-categoria" required onchange="validarCategoria()">
                           <option value="">Selecione...</option>
                           <option value="Alimenta√ß√£o">Alimenta√ß√£o</option>
                           <option value="Transporte">Transporte</option>
                           <option value="Sa√∫de">Sa√∫de</option>
                           <option value="Lazer">Lazer</option>
                           <option value="Casa">Casa</option>
                           <option value="Educa√ß√£o">Educa√ß√£o</option>
                           <option value="Trabalho">Trabalho</option>
                           <option value="Outros">Outros</option>
                       </select>
                   </div>
                   
                   <div class="form-group">
                       <label>Forma de Pagamento <span class="campo-obrigatorio">*</span></label>
                       <div class="payment-methods">
                           <div class="payment-option">
                               <input type="radio" id="pagamento-pix" name="forma-pagamento" value="pix" required onchange="validarFormaPagamento()">
                               <label for="pagamento-pix">PIX</label>
                           </div>
                           <div class="payment-option">
                               <input type="radio" id="pagamento-debito" name="forma-pagamento" value="debito" required onchange="validarFormaPagamento()">
                               <label for="pagamento-debito">D√©bito</label>
                           </div>
                           <div class="payment-option">
                               <input type="radio" id="pagamento-credito" name="forma-pagamento" value="credito" required onchange="validarFormaPagamento()">
                               <label for="pagamento-credito">Cr√©dito</label>
                           </div>
                       </div>
                   </div>
               </div>
               
               <!-- Op√ß√µes: Parcelado e Replicar -->
             <div class="checkbox-container">
    <div class="checkbox-row-grid">
        <div class="checkbox-item" onclick="toggleCheckboxParcelado()">
            <input type="checkbox" id="despesa-parcelado" onchange="toggleParcelamentoDespesa(this)">
            <label for="despesa-parcelado">Parcelado</label>
        </div>
        <div class="checkbox-item" onclick="toggleCheckboxReplicacao()">
            <input type="checkbox" id="replicar-sem-valores" onchange="toggleReplicacaoSemValor(this)">
            <label for="replicar-sem-valores">Replicar sem valores</label>
        </div>
    </div>
</div>
               
               <!-- Op√ß√µes de Parcelamento -->
               <div id="opcoes-parcelamento" class="hidden">
                   <div class="form-group">
                       <label for="despesa-parcelas">N√∫mero de Parcelas</label>
                       <input type="number" id="despesa-parcelas" min="2" max="36" value="2" onchange="calcularInfoParcelamento()">
                   </div>
               </div>
               
               <!-- Op√ß√µes de Replica√ß√£o -->
               <div id="opcoes-replicacao-sem-valor" class="hidden">
                   <div class="form-group">
                       <label for="replicar-meses">N√∫mero de Meses</label>
                       <input type="number" id="replicar-meses" min="1" max="36" value="12">
                   </div>
               </div>

               <!-- Valores -->
               <div class="form-row-grid">
                   <div class="form-group">
                       <label for="despesa-valor">Valor <span class="campo-obrigatorio">*</span></label>
                       <input type="number" id="despesa-valor" min="0.01" step="0.01" placeholder="0,00" required onchange="calcularInfoParcelamento()">
                   </div>
                   <div class="form-group">
                       <label for="despesa-valor-pago">Valor Pago (com juros)</label>
                       <input type="number" id="despesa-valor-pago" min="0" step="0.01" placeholder="0,00" onchange="calcularInfoParcelamento()">
                   </div>
               </div>
               
               <!-- Datas -->
               <div class="form-row-grid">
                   <div class="form-group">
                       <label for="despesa-data-compra">Data de Compra <span class="campo-obrigatorio">*</span></label>
                       <input type="date" id="despesa-data-compra" required>
                   </div>
                   <div class="form-group">
                       <label for="despesa-data-vencimento">Data de Vencimento <span class="campo-obrigatorio">*</span></label>
                       <input type="date" id="despesa-data-vencimento" required>
                   </div>
               </div>
               
               <!-- Info de Parcelamento -->
               <div id="info-parcelamento" class="info-parcelamento-container hidden">
                   <div class="info-parcelas">
                       <div class="info-item">
                           <span class="info-label">Total de juros:</span>
                           <span class="info-valor" id="info-juros-total">R$ 0,00</span>
                       </div>
                       <div class="info-item">
                           <span class="info-label">Juros por parcela:</span>
                           <span class="info-valor" id="info-juros-parcela">R$ 0,00</span>
                       </div>
                       <div class="info-item">
                           <span class="info-label">Valor de cada parcela:</span>
                           <span class="info-valor" id="info-valor-parcela">R$ 0,00</span>
                       </div>
                       <div class="info-item">
                           <span class="info-label">Valor total da compra:</span>
                           <span class="info-valor" id="info-valor-total">R$ 0,00</span>
                       </div>
                   </div>
               </div>
               
               <!-- Bot√£o de Salvar -->
               <button type="submit" class="btn-salvar-transacao">
                   <i class="fas fa-save"></i> Salvar Despesa
               </button>
           </form>
       </div>
   </div>
</div>




<!-- ======================================================== -->
<!-- MODAL 7: CONFIRMA√á√ÉO DE EXCLUS√ÉO DE DESPESAS -->
<!-- ======================================================== -->
<div id="modal-confirmacao-exclusao-despesa" class="modal">
   <div class="modal-content">
       <div class="modal-header">
           <h3 id="exclusao-titulo">Excluir despesa</h3>
           <span class="close" onclick="fecharModalExclusao()">&times;</span>
       </div>
       <div class="modal-body">
           <p id="exclusao-mensagem">Como deseja excluir esta despesa?</p>
           <div class="opcoes-exclusao">
               <button id="btn-excluir-atual" class="btn btn-block opcao-exclusao-basica" onclick="excluirDespesaAtual()">
                   Excluir apenas neste m√™s
               </button>
               <button id="btn-excluir-todos-meses" class="btn btn-block opcao-exclusao-basica">
                   Excluir em todos os meses do ano atual
               </button>
               <button id="btn-excluir-parcela-atual" class="btn btn-block opcao-exclusao-parcelada">
                   Excluir apenas esta parcela
               </button>
               <button id="btn-excluir-futuras" class="btn btn-block opcao-exclusao-parcelada">
                   Excluir esta e parcelas futuras
               </button>
               <button id="btn-excluir-todas-parcelas" class="btn btn-block opcao-exclusao-parcelada">
                   Excluir todas as parcelas
               </button>
           </div>
       </div>
   </div>
</div>

<!-- ======================================================== -->
<!-- MODAL 8: PAGAMENTO INDIVIDUAL -->
<!-- ======================================================== -->
<div id="modal-pagamento-individual" class="modal">
  <div class="modal-content">
      <div class="modal-header">
          <h2>Pagar Despesa</h2>
          <span class="close">&times;</span>
      </div>
      <div class="modal-body">
          <div id="info-despesa-pagamento" class="info-despesa-container">
              <div class="info-item">
                  <span class="info-label">Descri√ß√£o:</span>
                  <span class="info-valor" id="pagamento-descricao">-</span>
              </div>
              <div class="info-item">
                  <span class="info-label">Categoria:</span>
                  <span class="info-valor" id="pagamento-categoria">-</span>
              </div>
              <div class="info-item" id="pagamento-forma-container">
                  <span class="info-label">Forma de Pagamento:</span>
                  <span class="info-valor" id="pagamento-forma">-</span>
              </div>
              <div class="info-item">
                  <span class="info-label">Valor Original:</span>
                  <span class="info-valor" id="pagamento-valor-original">R$ 0,00</span>
              </div>
          </div>
          
          <form id="form-pagamento-individual">
              <div class="form-group">
                  <label for="valor-pago-individual">Valor Pago:</label>
                  <input type="number" id="valor-pago-individual" class="form-control" step="0.01" min="0">
              </div>
              
              <div class="form-group">
                  <div class="checkbox-row">
                      <input type="checkbox" id="despesa-quitado-individual">
                      <label for="despesa-quitado-individual">Despesa Quitada</label>
                  </div>
                  <div id="info-parcelas-futuras" class="info-texto hidden">
                      Quando marcado, todas as parcelas futuras ser√£o marcadas como pagas e seus valores zerados.
                  </div>
              </div>
              
              <div class="form-group">
                  <button type="submit" class="btn-submit">Confirmar Pagamento</button>
              </div>
          </form>
      </div>
  </div>
</div>

<!-- ======================================================== -->
<!-- MODAL: PAGAMENTO EM LOTE -->
<!-- ======================================================== -->
<div id="modal-pagamento-lote-despesas" class="modal">
   <div class="modal-content">
       <div class="modal-header">
           <h2>Pagar Despesas em Lote</h2>
           <span class="close">&times;</span>
       </div>
       <div class="modal-body">
           <div class="info-container">
               <p id="lote-contagem-despesas">Voc√™ est√° prestes a pagar despesas em lote.</p>
               <p class="info-texto">O pagamento em lote afeta apenas as despesas do m√™s atual.</p>
           </div>
           <div class="opcoes-pagamento-lote">
               <button id="btn-pagar-valor-original" class="btn btn-block">
                   Pagar com valores originais
               </button>
               <button id="btn-pagar-com-valor-personalizado" class="btn btn-block">
                   Personalizar valores
               </button>
           </div>
       </div>
   </div>
</div>

<!-- ======================================================== -->
<!-- MODAL: VALORES PERSONALIZADOS -->
<!-- ======================================================== -->
<div id="modal-valores-personalizados-despesas" class="modal">
   <div class="modal-content modal-lg">
       <div class="modal-header">
           <h2>Personalizar Valores de Pagamento</h2>
           <span class="close">&times;</span>
       </div>
       <div class="modal-body">
           <p>Defina os valores a serem pagos para cada despesa:</p>
           <div class="tabela-container">
               <table class="tabela-valores-personalizados">
                   <thead>
                       <tr>
                           <th>Descri√ß√£o</th>
                           <th>Categoria</th>
                           <th>Forma Pagamento</th>
                           <th>Valor Original</th>
                           <th>Valor a Pagar</th>
                       </tr>
                   </thead>
                   <tbody id="valores-personalizados-body"></tbody>
               </table>
           </div>
           <button id="btn-confirmar-valores" class="btn btn-primary">Confirmar Pagamento</button>
       </div>
   </div>
</div>

<!-- ======================================================== -->
<!-- TEMPLATES -->
<!-- ======================================================== -->
<template id="template-linha-valor-personalizado">
   <tr>
       <td class="despesa-descricao">-</td>
       <td class="despesa-categoria">-</td>
       <td class="despesa-forma-pagamento">
           <span class="badge-pagamento">-</span>
       </td>
       <td class="despesa-valor-original">R$ 0,00</td>
       <td>
           <input type="number" class="input-valor-pago" min="0" step="0.01" data-index="">
       </td>
   </tr>
</template>

<template id="template-linha-despesa">
   <tr>
       <td class="td-checkbox">
           <input type="checkbox" class="despesa-checkbox" data-index="">
       </td>
       <td class="despesa-descricao">-</td>
       <td class="despesa-categoria">-</td>
       <td class="despesa-forma-pagamento">
           <span class="badge-pagamento">-</span>
       </td>
       <td class="despesa-valor">R$ 0,00</td>
       <td class="despesa-parcela">-</td>
       <td class="despesa-valor-pago">-</td>
       <td class="despesa-status">
           <span class="badge-status">-</span>
       </td>
       <td class="despesa-data-compra">-</td>
       <td class="despesa-data-vencimento">-</td>
       <td class="despesa-acoes">
           <button class="btn-editar" data-index="">
               <i class="fas fa-edit"></i>
           </button>
           <button class="btn-excluir" data-index="">
               <i class="fas fa-trash-alt"></i>
           </button>
           <button class="btn-pagar" data-index="">
               <i class="fas fa-check-circle"></i>
           </button>
           <button class="btn-mover" data-index="">
               <i class="fas fa-arrow-right"></i>
           </button>
       </td>
   </tr>
</template>




<!-- ======================================================== -->
<!-- MODAL 11: SELETOR DE M√äS PARA TRANSA√á√ïES R√ÅPIDAS -->
<!-- Grid de meses para adicionar receitas/despesas rapidamente -->
<!-- ======================================================== -->
<div id="modal-selecionar-mes" class="modal">
    <div class="modal-content modal-medium">
        <div class="modal-header">
            <h2 id="selecionar-mes-titulo">Selecionar M√™s</h2>
            <span class="close" onclick="fecharModal('modal-selecionar-mes')">&times;</span>
        </div>
        <div class="modal-body">
            <p>Para qual m√™s voc√™ deseja adicionar a transa√ß√£o?</p>
            <div id="seletor-mes-rapido-grid" class="meses-grid-rapido">
                <button class="mes-btn" data-mes="0" onclick="selecionarMesRapido(0)">Jan</button>
                <button class="mes-btn" data-mes="1" onclick="selecionarMesRapido(1)">Fev</button>
                <button class="mes-btn" data-mes="2" onclick="selecionarMesRapido(2)">Mar</button>
                <button class="mes-btn" data-mes="3" onclick="selecionarMesRapido(3)">Abr</button>
                <button class="mes-btn" data-mes="4" onclick="selecionarMesRapido(4)">Mai</button>
                <button class="mes-btn" data-mes="5" onclick="selecionarMesRapido(5)">Jun</button>
                <button class="mes-btn" data-mes="6" onclick="selecionarMesRapido(6)">Jul</button>
                <button class="mes-btn" data-mes="7" onclick="selecionarMesRapido(7)">Ago</button>
                <button class="mes-btn" data-mes="8" onclick="selecionarMesRapido(8)">Set</button>
                <button class="mes-btn" data-mes="9" onclick="selecionarMesRapido(9)">Out</button>
                <button class="mes-btn" data-mes="10" onclick="selecionarMesRapido(10)">Nov</button>
                <button class="mes-btn" data-mes="11" onclick="selecionarMesRapido(11)">Dez</button>
            </div>
            <input type="hidden" id="tipo-transacao-rapida">
        </div>
    </div>
</div>


<!-- ================================================================ -->
<!-- TEMPLATES DE MENSAGENS E STATUS (OCULTOS) -->
<!-- ================================================================ -->
<div id="ui-templates" style="display: none;">
    
    <!-- Mensagens de Status do M√™s -->
    <div id="template-status-mes-fechado">
        <i class="fas fa-lock"></i> <strong>M√™s fechado</strong> - n√£o √© poss√≠vel editar transa√ß√µes
    </div>
    
    <div id="template-status-mes-ativo">
        <i class="fas fa-edit"></i> <strong>M√™s ativo</strong> - voc√™ pode fechar quando quiser
    </div>
    
    <div id="template-status-mes-vazio">
        <i class="fas fa-plus-circle"></i> Adicione receitas ou despesas para poder fechar o m√™s
    </div>
    
    <!-- Bot√µes de Controle do M√™s -->
    <div id="template-btn-reabrir">
        <button class="btn btn-warning" onclick="handleReabrirMes()">
            <i class="fas fa-unlock"></i> Reabrir M√™s
        </button>
    </div>
    
    <div id="template-btn-fechar">
        <button class="btn btn-primary" onclick="handleFecharMes()">
            <i class="fas fa-lock"></i> Fechar M√™s (<span class="saldo-valor"></span>)
        </button>
    </div>
    
    <!-- T√≠tulos com Status -->
    <div id="template-titulo-mes-fechado">
        <i class="fas fa-lock"></i> <span class="mes-nome"></span> de <span class="ano"></span> (Fechado)
    </div>
    
    <div id="template-titulo-mes-ativo">
        <i class="fas fa-chart-bar"></i> <span class="mes-nome"></span> de <span class="ano"></span>
    </div>

</div>





<!-- ======================================================== -->
<!-- MODAL: CENTRO DE NOTIFICA√á√ïES SIMPLES -->
<!-- ======================================================== -->
<div id="modal-notificacoes" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2></h2>
            <div class="header-actions">
                <button id="btn-mark-all-read" title="Marcar todas como lidas">
                    ‚úì Todas
                </button>
                <button id="btn-clear-notifications" title="Limpar todas">
                    üóëÔ∏è Limpar
                </button>
                <span class="close">&times;</span>
            </div>
        </div>
        <div class="modal-body">
            <div id="notifications-list">
                <div class="notification-empty">
                    <div class="empty-icon">üîî</div>
                    <p>Nenhuma notifica√ß√£o</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Template para notifica√ß√µes -->
<template id="template-notification-item">
    <div class="notification-item" data-id="" data-tipo="">
        <div class="notification-content">
            <div class="notification-header">
                <span class="notification-icon"></span>
                <h4 class="notification-title"></h4>
                <span class="notification-time"></span>
            </div>
            <p class="notification-message"></p>
        </div>
        <div class="notification-actions">
            <button class="btn-mark-read">‚úì</button>
            <button class="btn-delete-notification">‚úï</button>
        </div>
    </div>
</template>

<!-- ======================================================== -->
<!-- MODAL: EDI√á√ÉO DE CATEGORIAS -->
<!-- Formul√°rio para editar nome de categorias existentes -->
<!-- ======================================================== -->
<div id="modal-editar-categoria" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2><i class="fas fa-edit"></i> Editar Categoria</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <form id="form-editar-categoria">
                <input type="hidden" id="categoria-edit-tipo">
                <input type="hidden" id="categoria-edit-nome-original">
                
                <div class="form-group">
                    <label for="categoria-edit-nome">
                        <i class="fas fa-tag"></i> Nome da Categoria: <span class="required">*</span>
                    </label>
                    <input type="text" id="categoria-edit-nome" class="form-input" required maxlength="50">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-submit">
                        <i class="fas fa-save"></i> Salvar Altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- ======================================================== -->
<!-- MODAL: GERENCIAMENTO DE USU√ÅRIOS -->
<!-- Listagem, busca e controles de usu√°rios do sistema -->
<!-- ======================================================== -->
<div id="modal-gerenciar-usuarios" class="modal">
    <div class="modal-content modal-lg">
        <div class="modal-header">
            <h2><i class="fas fa-users-cog"></i> Gerenciamento de Usu√°rios</h2>
            <span class="close">&times;</span>
        </div>
        
        <div class="modal-body">
            <div class="user-management-controls">
                <div class="search-container">
                    <input type="text" id="usuario-search" placeholder="Buscar usu√°rio..." maxlength="100">
                    <button id="btn-search-user" class="btn-search">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <div class="filter-container">
                    <select id="filter-user-type" class="filter-select">
                        <option value="todos">Todos os usu√°rios</option>
                        <option value="master">Master</option>
                        <option value="admin">Administradores</option>
                        <option value="padrao">Usu√°rios padr√£o</option>
                    </select>
                </div>
                
                <button id="btn-adicionar-usuario" class="btn-action">
                    <i class="fas fa-user-plus"></i> Novo Usu√°rio
                </button>
            </div>

            <div class="table-responsive">
                <table class="tabela-usuarios">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Documento</th>
                            <th>E-mail</th>
                            <th>Tipo</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="lista-usuarios">
                        <!-- Preenchido dinamicamente -->
                    </tbody>
                </table>
            </div>

            <div id="no-users-message" class="notification-empty hidden">
                <i class="fas fa-users-slash"></i>
                <p>Nenhum usu√°rio encontrado</p>
            </div>

            <div class="pagination-controls">
                <button id="btn-prev-page" class="btn-pagination" disabled>
                    <i class="fas fa-chevron-left"></i> Anterior
                </button>
                <span id="pagination-info">P√°gina 1 de 1</span>
                <button id="btn-next-page" class="btn-pagination" disabled>
                    Pr√≥xima <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- ======================================================== -->
<!-- MODAL 15: CADASTRO DE NOVOS USU√ÅRIOS -->
<!-- Formul√°rio completo para adicionar usu√°rios ao sistema -->
<!-- ======================================================== -->
<div id="modal-adicionar-usuario" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2><i class="fas fa-user-plus"></i> Adicionar Novo Usu√°rio</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <form id="form-adicionar-usuario">
                <div class="form-group">
                    <label for="novo-usuario-nome">Nome:</label>
                    <input type="text" id="novo-usuario-nome" required>
                </div>
                
                <div class="form-group">
                    <label for="novo-usuario-email">E-mail:</label>
                    <input type="email" id="novo-usuario-email" required>
                </div>
                
                <div class="form-group">
                    <label for="novo-usuario-documento">Documento (CPF/CNPJ):</label>
                    <input type="text" id="novo-usuario-documento" required>
                </div>
                
                <div class="form-group">
                    <label for="novo-usuario-tipo">Tipo de Usu√°rio:</label>
                    <select id="novo-usuario-tipo">
                        <option value="padrao">Usu√°rio Padr√£o</option>
                        <option value="admin">Administrador</option>
                        <option value="master">Master</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="novo-usuario-senha">Senha:</label>
                    <input type="password" id="novo-usuario-senha" required>
                </div>
                
                <div class="form-group">
                    <label for="novo-usuario-confirmar-senha">Confirmar Senha:</label>
                    <input type="password" id="novo-usuario-confirmar-senha" required>
                </div>
                
                <button type="submit" class="btn-salvar-transacao">Adicionar Usu√°rio</button>
            </form>
        </div>
    </div>
</div>


<!-- ======================================================== -->
<!-- MODAL: EDITAR/ADICIONAR USU√ÅRIO -->
<!-- Formul√°rio para alterar dados de usu√°rios -->
<!-- ======================================================== -->
<div id="modal-editar-usuario" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="editar-usuario-titulo">
                <i class="fas fa-user-edit"></i> Editar Usu√°rio
            </h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <form id="form-editar-usuario">
                <input type="hidden" id="editar-usuario-id">
                
                <div class="form-group">
                    <label for="editar-usuario-nome">
                        <i class="fas fa-user"></i> Nome: <span class="required">*</span>
                    </label>
                    <input type="text" id="editar-usuario-nome" class="form-input" required maxlength="100">
                </div>
                
                <div class="form-group">
                    <label for="editar-usuario-email">
                        <i class="fas fa-envelope"></i> E-mail: <span class="required">*</span>
                    </label>
                    <input type="email" id="editar-usuario-email" class="form-input" required maxlength="100">
                </div>
                
                <div class="form-group">
                    <label for="editar-usuario-documento">
                        <i class="fas fa-id-card"></i> Documento (CPF/CNPJ): <span class="required">*</span>
                    </label>
                    <input type="text" id="editar-usuario-documento" class="form-input" required maxlength="18">
                    <small class="field-help">O documento n√£o pode ser alterado ap√≥s o cadastro.</small>
                </div>
                
                <div id="form-group-tipo" class="form-group">
                    <label for="editar-usuario-tipo">
                        <i class="fas fa-user-tag"></i> Tipo de Usu√°rio:
                    </label>
                    <select id="editar-usuario-tipo" class="form-select">
                        <option value="padrao">Usu√°rio Padr√£o</option>
                        <option value="admin">Administrador</option>
                        <option value="master">Master</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="editar-usuario-status">
                        <i class="fas fa-toggle-on"></i> Status:
                    </label>
                    <select id="editar-usuario-status" class="form-select">
                        <option value="ativo">Ativo</option>
                        <option value="inativo">Inativo</option>
                        <option value="bloqueado">Bloqueado</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="editar-usuario-senha">
                        <i class="fas fa-key"></i> Nova Senha:
                    </label>
                    <input type="password" id="editar-usuario-senha" class="form-input" placeholder="Deixe em branco para manter a atual" minlength="6">
                    <small class="field-help">M√≠nimo 6 caracteres</small>
                </div>
                
                <div class="form-group">
                    <label for="editar-usuario-confirmar-senha">
                        <i class="fas fa-key"></i> Confirmar Nova Senha:
                    </label>
                    <input type="password" id="editar-usuario-confirmar-senha" class="form-input" placeholder="Confirme a nova senha">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-salvar-transacao">
                        <i class="fas fa-save"></i> Salvar Altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- ======================================================== -->
<!-- SISTEMA DE BLOQUEIO DE TELA -->
<!-- ======================================================== -->
<div id="lock-screen-overlay" class="lock-screen-overlay"></div>
<!-- ======================================================== -->
<!-- MODAL 17: TELA DE BLOQUEIO DO SISTEMA -->
<!-- Formul√°rio de senha para desbloquear o sistema -->
<!-- ======================================================== -->
<div id="modal-lock-screen" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2><i class="fas fa-lock"></i> Sistema Bloqueado</h2>
        </div>
        <div class="modal-body">
            <form id="form-lock-screen">
                <div class="form-group">
                    <input type="password" id="lock-screen-password" placeholder="Sua Senha" required>
                </div>
                <button type="submit" class="btn-submit btn-full-width">
                    <i class="fas fa-unlock"></i> Desbloquear
                </button>
            </form>
        </div>
    </div>
</div>





<!-- ================================================================ -->
<!-- ASSISTENTE IA JARVS - SIMPLIFICADO -->
<!-- Sistema de chat inteligente para suporte financeiro -->
<!-- ================================================================ -->

<!-- ======================================================== -->
<!-- BOT√ÉO FLUTUANTE PARA ACESSO AO ASSISTENTE -->
<!-- ======================================================== -->
<button id="jarvs-fab" class="ai-fab-button" aria-label="Abrir assistente Jarvs">
    <i class="fas fa-robot"></i>
</button>

<!-- ======================================================== -->
<!-- MODAL: INTERFACE DO ASSISTENTE IA JARVS -->
<!-- Chat estilo WhatsApp sem blocos internos -->
<!-- ======================================================== -->
<div id="ai-assistant-modal" class="ai-modal">
    <div class="ai-modal-content">
        
        <div class="ai-modal-header">
            <h2><i class="fas fa-robot"></i> Jarvs</h2>
            <span class="close" aria-label="Fechar">&times;</span>
        </div>
        
        <div class="modal-body">
            <div class="ai-chat-container">
                
                <div class="ai-messages" id="ai-messages">
                    <!-- Mensagem de boas-vindas integrada -->
                    <div class="ai-message ai-message-bot">
                        <div class="ai-content">
                            <p>Ol√°! üëã Sou o <strong>Jarvs</strong>, seu assistente financeiro pessoal. Como posso te ajudar hoje?</p>
                        </div>
                    </div>
                </div>
                
                <div class="ai-typing-indicator hidden" id="ai-typing">
                    <div class="ai-typing-content">
                        <span class="typing-text">Jarvs est√° pensando</span>
                        <div class="typing-dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="ai-modal-footer">
            <div class="ai-input-wrapper">
                <input type="text" id="ai-input" placeholder="Digite sua pergunta..." maxlength="500">
                <button id="ai-send-btn" type="button" aria-label="Enviar mensagem">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

    </div>
</div>


<!-- Templates para reutiliza√ß√£o -->
<template id="template-info-parcelamento">
    <div class="info-parcelas">
        <div><strong>Total de juros:</strong> <span class="info-juros-total"></span></div>
        <div><strong>Juros por parcela:</strong> <span class="info-juros-parcela"></span></div>
        <div><strong>Valor de cada parcela:</strong> <span class="info-valor-parcela"></span></div>
        <div><strong>Valor total da compra:</strong> <span class="info-valor-total"></span></div>
    </div>
</template>

<template id="template-linha-valor-personalizado">
    <tr>
        <td class="despesa-descricao"></td>
        <td class="despesa-categoria"></td>
        <td class="despesa-forma-pagamento"></td>
        <td class="despesa-valor-original"></td>
        <td>
            <input type="number" class="input-valor-pago" min="0" step="0.01" data-index="">
        </td>
    </tr>
</template>

<template id="template-badge-pagamento">
    <span class="badge-pagamento"></span>
</template>


<!-- TEMPLATES PARA RENDERIZA√á√ÉO -->
<!-- Templates para reutiliza√ß√£o -->
<template id="template-info-parcelamento">
    <div class="info-parcelas">
        <div><strong>Total de juros:</strong> <span class="info-juros-total"></span></div>
        <div><strong>Juros por parcela:</strong> <span class="info-juros-parcela"></span></div>
        <div><strong>Valor de cada parcela:</strong> <span class="info-valor-parcela"></span></div>
        <div><strong>Valor total da compra:</strong> <span class="info-valor-total"></span></div>
    </div>
</template>

<template id="template-linha-valor-personalizado">
    <tr>
        <td class="despesa-descricao"></td>
        <td class="despesa-categoria"></td>
        <td class="despesa-forma-pagamento"></td>
        <td class="despesa-valor-original"></td>
        <td>
            <input type="number" class="input-valor-pago" min="0" step="0.01" data-index="">
        </td>
    </tr>
</template>

<!-- üÜï NOVO TEMPLATE ADICIONADO -->
<template id="template-badge-pagamento">
    <span class="badge-pagamento"></span>
</template>


<!-- TEMPLATES PARA RENDERIZA√á√ÉO -->
<template id="template-mes-card">
    <div class="mes-header">
        <span class="mes-nome"></span>
        <span class="mes-status"></span>
    </div>
    <div class="mes-body">
        <div class="mes-saldos-container">
            <div class="mes-saldo-anterior hidden">
                <span class="mes-label">Saldo Anterior</span>
                <span class="valor-anterior"></span>
            </div>
            <div class="mes-saldo">
                <span class="mes-label">Saldo Final</span>
                <span class="mes-saldo-valor"></span>
            </div>
        </div>
        <div class="mes-resumo">
            <div class="mes-valor">
                <span class="mes-label">Receitas</span>
                <span class="mes-receita"></span>
            </div>
            <div class="mes-valor">
                <span class="mes-label">Despesas</span>
                <span class="mes-despesa"></span>
            </div>
        </div>
    </div>
    <div class="mes-acoes">
        <button class="btn-mes-acao btn-reabrir hidden">üîì Reabrir</button>
        <button class="btn-mes-acao btn-fechar hidden">üîí Fechar</button>
        <button class="btn-mes-acao btn-detalhes"></button>
    </div>
</template>

<template id="template-linha-receita">
    <tr>
        <td class="receita-descricao"></td>
        <td class="receita-valor"></td>
        <td class="receita-data"></td>
        <td class="receita-parcela"></td>
        <td class="receita-acoes">
            <button class="btn-editar" data-index="">
                <i class="fas fa-edit"></i>
            </button>
            <button class="btn-excluir" data-index="">
                <i class="fas fa-trash-alt"></i>
            </button>
        </td>
    </tr>
</template>

<template id="template-linha-despesa">
    <tr>
        <td class="td-checkbox">
            <input type="checkbox" class="despesa-checkbox" data-index="">
        </td>
        <td class="despesa-descricao"></td>
        <td class="despesa-categoria"></td>
        <td class="despesa-forma-pagamento"></td>
        <td class="despesa-valor"></td>
        <td class="despesa-parcela"></td>
        <td class="despesa-valor-pago"></td>
        <td class="despesa-status">
            <span class="badge-status"></span>
        </td>
        <td class="despesa-data-compra"></td>
        <td class="despesa-data-vencimento"></td>
        <td class="despesa-acoes">
            <button class="btn-editar" data-index="">
                <i class="fas fa-edit"></i>
            </button>
            <button class="btn-excluir" data-index="">
                <i class="fas fa-trash-alt"></i>
            </button>
            <button class="btn-pagar" data-index="">
                <i class="fas fa-check-circle"></i>
            </button>
            <button class="btn-mover" data-index="">
                <i class="fas fa-arrow-right"></i>
            </button>
        </td>
    </tr>
</template>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<script src="https://sdk.mercadopago.com/js/v2"></script>

<script src="js/api.js"></script>
<script src="js/usuario_dados.js"></script> <script src="js/main.js"></script> <script src="js/configuracao.js"></script>
<script src="js/receita.js"></script>
<script src="js/despesas.js"></script>
<script src="js/dashboard.js"></script>
<script src="js/notificacao.js"></script>

<script src="js/rel.js"></script>
<script src="js/jarvs.js"></script>
<script src="js/revista.js"></script>

</body>
</html>